//todo, abstract snapshot inner relevant code from snapshot proxy
